<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/twmdocs/blog/rss.xml" title="TWM Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/twmdocs/blog/atom.xml" title="TWM Blog Atom Feed"><title data-react-helmet="true">Optimizer | TWM</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://yzninjacoding.github.io/twmdocs/docs/platform/optimizer"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Optimizer | TWM"><meta data-react-helmet="true" name="description" content="TWM is equipped with WFO (walk forward optimizer) module. Inside the module user is able to set In-Sample and Out-Of-Sample periods in order to test strategy robustness. To access the Optimizer proceed to Admin Panel -&gt; New -&gt; Optimizer."><meta data-react-helmet="true" property="og:description" content="TWM is equipped with WFO (walk forward optimizer) module. Inside the module user is able to set In-Sample and Out-Of-Sample periods in order to test strategy robustness. To access the Optimizer proceed to Admin Panel -&gt; New -&gt; Optimizer."><link data-react-helmet="true" rel="shortcut icon" href="/twmdocs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yzninjacoding.github.io/twmdocs/docs/platform/optimizer"><link data-react-helmet="true" rel="alternate" href="https://yzninjacoding.github.io/twmdocs/docs/platform/optimizer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://yzninjacoding.github.io/twmdocs/docs/platform/optimizer" hreflang="x-default"><link rel="stylesheet" href="/twmdocs/assets/css/styles.a25e30c6.css">
<link rel="preload" href="/twmdocs/assets/js/runtime~main.651ec484.js" as="script">
<link rel="preload" href="/twmdocs/assets/js/main.f35465c1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_ARwE">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/twmdocs/"><img src="/twmdocs/img/logo.svg" alt="TWM Logo" class="themedImage_BKHl themedImage--light_k5J3 navbar__logo"><img src="/twmdocs/img/logo.svg" alt="TWM Logo" class="themedImage_BKHl themedImage--dark_yA+l navbar__logo"><b class="navbar__title">TWM</b></a><a class="navbar__item navbar__link navbar__link--active" href="/twmdocs/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://twm.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_6ILz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_7-MD react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_cA0-">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_cA0-">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_xm8d"><button class="clean-btn backToTopButton_pefn" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_qc+d"><div class="sidebar_j5EG"><nav class="menu thin-scrollbar menu_5h4S menuWithAnnouncementBar_4sxA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/twmdocs/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Platform</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/connections">Connections</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/instruments">Instruments</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/market-data">Market Data</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/compilation">Compilation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/indicators">Indicators</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/strategies">Strategies</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/charttrader">Chart Trader</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/validator">Validator</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/twmdocs/docs/platform/optimizer">Optimizer</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/options">Options</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/twmdocs/docs/platform/accounts">Accounts</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Code</a></li></ul></nav></div></aside><main class="docMainContainer_eoSP"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_e3oB"><div class="docItemContainer_6UNJ"><article><div class="tocCollapsible_MxYT theme-doc-toc-mobile tocMobile_lj85"><button type="button" class="clean-btn tocCollapsibleButton_Pq3d">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Optimizer</h1></header><p>TWM is equipped with WFO (walk forward optimizer) module. Inside the module user is able to set <code>In-Sample</code> and <code>Out-Of-Sample</code> periods in order to test strategy robustness. To access the <code>Optimizer</code> proceed to <code>Admin Panel -&gt; New -&gt; Optimizer</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="creating-a-test"></a>Creating a Test<a class="hash-link" href="#creating-a-test" title="Direct link to heading">#</a></h3><p>To start testing you need to right click the left hand side of the optimzer and either open a previously created preset or crete a new test. Give your test a name and proceed.</p><img src="/twmdocs/assets/images/optimizer1-16ee15bdcf8410596c6bb316814e31b9.png" alt="optimizer1" style="width:600px"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="in-sample-is-out-of-sample-os"></a>In Sample (IS) Out of Sample (OS)<a class="hash-link" href="#in-sample-is-out-of-sample-os" title="Direct link to heading">#</a></h3><p>The next step would be to create a testing period. You can add the period manualy using <code>Add Period</code> in the same context menu or using a special UI called <code>Period constructor</code>. In sample period (IS) is where the strategy optimization will take place, out of sample period (OS) is where the execution with the optimized parameters will take place. This allows us to see whether the parameters we found are optimial, robust and we have not curve fitted our strategy.</p><p>You can review some content on in sample out of sample testing concepts explained here.</p><p><a href="https://www.youtube.com/watch?v=YM3c6C-iqDo" target="_blank" rel="noopener noreferrer">Robert Pardo Podcast</a></p><p><a href="https://www.amazon.com/Evaluation-Optimization-Trading-Strategies/dp/0470128011" target="_blank" rel="noopener noreferrer">Robert Pardo Book</a></p><p>Inside the period constructor it is easy to create an IS-OS period and set the required lengths easily by either adjusting their day length or percentage in respect to each other. On the picture below we see a period of 365 days where 30% or 110 days are dedicated to an out of sample period. If the <code>Last live period</code> box is checked, the out of sample period will be ignored for the most recent period. </p><img src="/twmdocs/assets/images/optimizer2-848af161ec11a3283a6fd0f766441dcb.png" alt="optimizer2" style="width:600px"><p>You can add as many period as you like. The optimization will take place through each period separately. At the end of the process you will see:</p><ul><li>results for each period separately</li><li>combined out of sample results</li><li>out of sample results followed by sim results which is as if you continued running the strategy withouth re-optimizing after the out of sample period length</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="parameters"></a>Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h3><p>After you have enabled the periods you should see them appear on the left hand side of the optimizer. The right hand side is dedicated to strategy parameters. You will need to first set the instrument and then set the strategy as demonstrated in the picture. After which you can proceed to selecting which parameters should be optimzed. </p><p>To do so right click the three dots next to where it says parameters. For each parameter you will see a checkbox, min, max and inc setting.</p><p>Min - will start optimzation from this value
Max - will end optimization at this value
Inc - will increment by this value
Checkbox - will turn the parameter on/off, in this case in max=min the default value will be used</p><p>For example if min is 5, max is 100 and inc is 5 as well then the optimizer will start at 5 and will stop at 100 incrementing by a step of 5 so 5,10,15,20....100. The combination count will also show the amount of combinations that will occur. If there are too many combinations we strongly reccomend using the genetic optimization engine.</p><img src="/twmdocs/assets/images/optimizer3-4be614bb21fcd364c2083a6304c08da8.png" alt="optimizer3" style="width:600px"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="results"></a>Results<a class="hash-link" href="#results" title="Direct link to heading">#</a></h3><p>To start the optimzation click <code>RUN</code>. After the optimziation has finished you can see combined out of sample results by clicking on the periods root. The vertical red lines represent each OS end time stamp.</p><img src="/twmdocs/assets/images/optimizer4-507bd9e8b1f4d853a4a79fc005f0b4c1.png" alt="optimizer4" style="width:600px"><p>By clicking on the matrix tab whilst on the period root you can review specific parameters that were found for each particular period. If you click on the matrix tab for a specific period you will see what specific parameters were used for a specific iteration listed in the best strategies list.</p><img src="/twmdocs/assets/images/matrix1-733d8e8140a092de154bf9c51952391b.png" alt="optimizer4" style="width:600px"><p>The number of best strategies is contolled by the <code>keep best strategy</code> parameter. By default it will be 10 and the optimizer will always choose the top one. The list is sorted by the optimization fitness parameter which is an extendable module and can be coded by the user. You can use some popular preset native ones such as profit factor, net profit, sharpe, etc. Use the <code>Optimize on</code> setting on the right hand side to set the optimization fitness parameter. To read more about fitness parameters please see <a href="/twmdocs/docs/code/core#optimization-fitness">here</a></p><p>You can also see extra setting by right clikcing on the best strategies list.</p><ul><li>Preset - save will save the particular strategy preset to be used on chart, in validator or in optimizer.</li><li>Settings - allows you to turn best strategies columns on/off</li><li>Open in validator - will open a specific IS or IS+OS period in validator with the set strategy</li><li>View parameter list - will show the used parameters in a table</li></ul><img src="/twmdocs/assets/images/optimizer5-fe25c07afad5865e4f1a8f11ac5448ff.png" alt="optimizer5" style="width:600px"><p>If you change the chosen best strategy in the top list the OS will reexecute so you can see an updated combined out of sample result. You can toggle through the tabs to see different results. Main tabs are:</p><ul><li>IS for in sample results</li><li>OS for in sample results</li><li>Total will show IS+OS results</li><li>Sim will show results for a period that happend after OS ended, if Sim is enabled then Total will show IS+OS+Sim results. (if Sim is disable the tab will not show)</li></ul><p>To enable Sim please go to <code>Admin panel -&gt; Tools -&gt; Options -&gt; Calculations -&gt; Calculate Simulation</code>.</p><p>Some results might have been excluded based on some global filtering set during the optimzation. The two global filters available are:</p><ul><li>Min trades IS wich sets the minumum number of trades that has to occur in the in sample period in order for it to be considered</li><li>Draw Down Level - maximum draw down level during the in sample period</li></ul><p>If the execution is filtered you will see the count for the filtered executions <code>Info</code> tab on top.</p><img src="/twmdocs/assets/images/filters-1e80f815036db0ec0d293217a0c65d7e.png" alt="filters" style="width:600px"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="optimizer-types"></a>Optimizer Types<a class="hash-link" href="#optimizer-types" title="Direct link to heading">#</a></h3><p>The two main types available are:</p><ul><li>Default - which will an exhaustive optimzier that will go through every single combination that you have created</li><li>Genetic - will use a genetic algorithm (the open source code for the genetic algorithm is provided in the custom project)</li></ul><p>The settings for the genetic algorithm will come up below the parameters section. Please click on the arrow for them to unfold. Each parameter will light up with a small caption helping to understand its purpose.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_1NVJ" id="database"></a>Database<a class="hash-link" href="#database" title="Direct link to heading">#</a></h3><p>If you like a specific optimization results you can right click the periods section and choose <code>Save Results</code>. This will allow to access these results in the <code>Admin Panels -&gt; New -&gt; Databse</code> at any point in time later. The results will be saved in a static form with the best selected strategies for each period. Double click on a chosen strategy to open up in optimizer static window mode.</p><img src="/twmdocs/assets/images/db-98d7c7b68393c08e6a9bea7034386109.png" alt="db" style="width:600px"></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/twmdocs/docs/platform/validator"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Validator</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/twmdocs/docs/platform/options"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Options Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_KhxC thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-test" class="table-of-contents__link">Creating a Test</a></li><li><a href="#in-sample-is-out-of-sample-os" class="table-of-contents__link">In Sample (IS) Out of Sample (OS)</a></li><li><a href="#parameters" class="table-of-contents__link">Parameters</a></li><li><a href="#results" class="table-of-contents__link">Results</a></li><li><a href="#optimizer-types" class="table-of-contents__link">Optimizer Types</a></li><li><a href="#database" class="table-of-contents__link">Database</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 TWM</div></div></div></footer></div>
<script src="/twmdocs/assets/js/runtime~main.651ec484.js"></script>
<script src="/twmdocs/assets/js/main.f35465c1.js"></script>
</body>
</html>